<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>생성형 AI를 활용한 아동복 디자인 개발 프로세스</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- 
        Chosen Palette: Warm Neutrals & Soft Accents (배경: bg-stone-50, 기본 텍스트: text-stone-800, 헤더/강조: bg-stone-100, 활성/포인트: bg-teal-500, text-white)
        Application Structure Plan: 인터랙티브 대시보드 구조를 채택했습니다. 사용자는 상단의 네비게이션을 통해 각 디자인 사례를 선택할 수 있습니다. 선택된 사례의 '입력(키워드)'과 '결과(프롬프트 및 이미지)'가 명확히 구분된 카드 레이아웃으로 표시되어, 선형적인 문서 구조보다 정보 탐색 및 사례 간 비교가 용이합니다. '도출 과정'은 상세 정보이므로, 아코디언(Accordion) UI를 사용하여 초기 화면을 간결하게 유지하고 사용자가 원할 때만 펼쳐볼 수 있도록 설계했습니다. 이 구조는 사용자가 프로세스의 흐름을 직관적으로 이해하고, 각 사례의 핵심 정보에 빠르게 접근할 수 있도록 돕습니다.
        Visualization & Content Choices: 
        - 네비게이션: 각 사례를 대표하는 아이콘과 텍스트 버튼으로 구성하여 시각적 명확성과 상호작용성을 높였습니다. (Goal: Organize, Method: Interactive Buttons/JS)
        - 콘텐츠 표시: 각 연령(3세, 5세)별 결과물은 별도의 카드로 구성하여 명확히 구분했습니다. (Goal: Compare, Method: Side-by-Side Layouts/JS)
        - 도출 과정: `<details>` 태그를 활용한 아코디언 UI로 정보를 계층적으로 구성하여, 사용자가 정보의 양에 압도되지 않고 단계적으로 탐색할 수 있도록 했습니다. (Goal: Inform, Method: Contextual Text Blocks/JS Show-Hide)
        - 이미지: 각 사례의 핵심 결과물인 이미지를 카드 상단에 크게 배치하여 시각적 효과를 극대화했습니다. (Goal: Inform, Method: Image Display)
        - 라이브러리: 외부 라이브러리 없이 순수 JavaScript로 모든 동적 상호작용을 구현했습니다.
        CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .content-card {
            transition: all 0.3s ease-in-out;
            visibility: hidden;
            opacity: 0;
            position: absolute;
            width: 100%;
        }
        .content-card.active {
            visibility: visible;
            opacity: 1;
            position: relative;
        }
        details > summary {
            cursor: pointer;
            list-style-type: '▸ ';
        }
        details[open] > summary {
            list-style-type: '▾ ';
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        
        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-stone-900">생성형 AI를 활용한 아동복 디자인 개발 프로세스</h1>
            <p class="mt-2 text-lg text-stone-600">Google Gemini를 활용한 키워드 기반 디자인 시안 생성 과정</p>
        </header>

        <nav class="flex justify-center flex-wrap gap-2 md:gap-4 mb-8 md:mb-12">
            <button data-case="case1" class="nav-btn bg-white text-stone-700 font-semibold py-2 px-4 border border-stone-200 rounded-lg shadow-sm hover:bg-teal-500 hover:text-white transition-colors duration-300 flex items-center gap-2">
                <span class="text-xl">🎨</span> 사례 1: 깔끔한 이미지
            </button>
            <button data-case="case2" class="nav-btn bg-white text-stone-700 font-semibold py-2 px-4 border border-stone-200 rounded-lg shadow-sm hover:bg-teal-500 hover:text-white transition-colors duration-300 flex items-center gap-2">
                <span class="text-xl">🏃‍♀️</span> 사례 2: 활동적인 이미지
            </button>
            <button data-case="case3" class="nav-btn bg-white text-stone-700 font-semibold py-2 px-4 border border-stone-200 rounded-lg shadow-sm hover:bg-teal-500 hover:text-white transition-colors duration-300 flex items-center gap-2">
                <span class="text-xl">🎀</span> 사례 3: 단정한 이미지
            </button>
            <button data-case="case4" class="nav-btn bg-white text-stone-700 font-semibold py-2 px-4 border border-stone-200 rounded-lg shadow-sm hover:bg-teal-500 hover:text-white transition-colors duration-300 flex items-center gap-2">
                <span class="text-xl">🧸</span> 사례 4: 귀여운 이미지
            </button>
        </nav>

        <main id="main-content" class="relative">
            <!-- 콘텐츠가 여기에 동적으로 삽입됩니다. -->
        </main>

        <section class="mt-12 p-6 md:p-8 bg-white rounded-xl shadow-lg border border-stone-200">
            <h2 class="text-2xl font-bold text-stone-900 mb-4 flex items-center gap-2">프롬프트 확장기 ✨</h2>
            <p class="mb-4 text-stone-600">간단한 키워드나 아이디어를 입력하여, 현재 선택된 디자인 사례의 컨텍스트에 맞춰 상세한 이미지 생성 프롬프트를 받아보세요.</p>
            
            <div class="mb-4">
                <label for="promptInput" class="block text-sm font-medium text-stone-700 mb-2">아이디어 입력 (예: '귀여운 원피스', '활동적인 바지'):</label>
                <textarea id="promptInput" rows="3" class="w-full p-3 border border-stone-300 rounded-md focus:ring-teal-500 focus:border-teal-500 text-stone-800 bg-stone-50"></textarea>
            </div>
            
            <button id="refinePromptBtn" class="w-full bg-teal-500 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:bg-teal-600 transition-colors duration-300 flex items-center justify-center gap-2">
                <span id="refinePromptText">프롬프트 확장하기 ✨</span>
                <span id="loadingIndicator" class="hidden animate-spin h-5 w-5 border-4 border-white border-t-transparent rounded-full"></span>
            </button>
            
            <div id="refinedPromptOutput" class="mt-6 p-4 bg-stone-100 rounded-md border border-stone-200 text-stone-700 hidden">
                <h5 class="font-semibold mb-2">확장된 프롬프트:</h5>
                <p id="outputPromptText" class="text-sm leading-relaxed"></p>
            </div>
            <div id="errorOutput" class="mt-4 p-3 bg-red-100 text-red-700 rounded-md border border-red-200 hidden"></div>
        </section>

    </div>

    <script>
        const designData = {
            case1: {
                title: "사례 1: 깔끔한 이미지",
                keywords: ["깔끔한 이미지", "셔츠+치마", "플리츠", "파스텔 컬러", "면 소재", "패턴(문양) 없음"],
                ages: {
                    age3: {
                        prompt: "A full-body photograph of a cheerful young girl, approximately 3 years old with an average height of around 95cm, wearing a soft and comfortable children's outfit. The ensemble features a plain, slightly relaxed-fit, short-sleeved t-shirt in a gentle pastel peach, made from a breathable, smooth cotton jersey fabric. It is casually paired with a knee-length skirt in a delicate pastel mint green, crafted from a lightweight cotton voile with subtle, flowing accordion pleats. The entire outfit is solid-colored, completely free of any patterns or prints. The model is shown in a playful, slightly candid pose with a joyful expression, in a bright, sunlit indoor setting with soft toys in a blurred background, conveying lightness and youthful energy. High resolution, professional fashion photography.",
                        derivation: `
                            <p><strong>'만 3세 여아' 반영:</strong> 평균 키(95cm)를 명시하여 AI가 해당 연령대에 맞는 체형과 비율을 고려하도록 하였습니다. 'cheerful', 'playful', 'joyful expression' 등 3세 아이의 발랄하고 사랑스러운 분위기를 강조하였으며, 배경으로 'soft toys in a blurred background'를 추가하여 아이다운 공간감을 주었습니다.</p>
                            <p><strong>'깔끔한 이미지' 반영:</strong> 'soft and comfortable', 'plain', 'solid-colored, completely free of any patterns or prints'를 통해 군더더기 없는 깔끔함을 유지하였습니다.</p>
                            <p><strong>'셔츠+치마' 반영:</strong> 'slightly relaxed-fit, short-sleeved t-shirt'와 'knee-length skirt'로 편안한 기본 형태를 지정하였습니다.</p>
                            <p><strong>'플리츠' 반영:</strong> 'subtle, flowing accordion pleats'를 사용하여 3세 아이에게 어울리는 부드럽고 활동적인 느낌의 주름을 표현하였습니다.</p>
                            <p><strong>'파스텔 컬러' 반영:</strong> 'gentle pastel peach'와 'delicate pastel mint green' 조합으로 부드럽고 따뜻한 파스텔 톤을 선택하였습니다.</p>
                            <p><strong>'면 소재' 반영:</strong> 'breathable, smooth cotton jersey'와 'lightweight cotton voile'을 사용하여 3세 아이에게 적합한 통기성 좋고 가벼운 면 소재의 질감을 구체화하였습니다。</p>`,
                        imageUrl: "https://i.imgur.com/k6gZ1qM.jpeg"
                    },
                    age5: {
                        prompt: "A captivating full-body portrait of a young girl, approximately 5 years old with an average height of around 110cm, showcasing a modern and structured children's outfit. The ensemble features a minimalist, short-sleeved polo shirt in a cool, light pastel blue, constructed from a durable, slightly crisp cotton pique fabric. It is expertly paired with a knee-length skirt in a soft pastel yellow, made from a medium-weight cotton twill with well-defined box pleats. The entire design is plain and solid-colored, completely devoid of patterns. The model is captured in a graceful, slightly dynamic pose within a contemporary, brightly lit gallery space with clean concrete walls, emphasizing architectural lines and sophisticated simplicity. High resolution, professional fashion photography.",
                        derivation: `
                            <p><strong>'만 5세 여아' 반영:</strong> 평균 키(110cm)를 명시하여 AI가 해당 연령대에 맞는 비율을 고려하도록 하였습니다. 'modern and structured', 'graceful, slightly dynamic pose' 등의 표현을 통해 5세 아이에게 어울리는 좀 더 세련되고 활동적인 느낌을 주었으며, 배경으로 'contemporary, brightly lit gallery space'를 선택하여 디자인의 모던함을 강조하였습니다.</p>
                            <p><strong>'깔끔한 이미지' 반영:</strong> 'minimalist', 'plain and solid-colored, completely devoid of patterns', 'sophisticated simplicity'를 통해 정돈되고 세련된 깔끔함을 표현하였습니다.</p>
                            <p><strong>'셔츠+치마' 반영:</strong> 셔츠는 'minimalist, short-sleeved polo shirt'로 변경하여 5세 아이에게 어울리는 단정하면서도 활동적인 느낌을 주었으며, 치마는 'knee-length skirt'로 유지하였습니다.</p>
                            <p><strong>'플리츠' 반영:</strong> 'well-defined box pleats'를 사용하여 5세 아이의 활동성을 고려하면서도 디자인의 구조감을 살렸습니다.</p>
                            <p><strong>'파스텔 컬러' 반영:</strong> 'cool, light pastel blue'와 'soft pastel yellow' 조합으로 시원하고 밝은 파스텔 톤을 선택하였습니다.</p>
                            <p><strong>'면 소재' 반영:</strong> 셔츠에는 'durable, slightly crisp cotton pique fabric' (내구성이 좋고 살짝 바삭거리는 면 피케)를, 치마에는 'medium-weight cotton twill' (중량 면 트윌)을 사용하여 면 소재의 견고하고 구조적인 질감을 구체화하였습니다.</p>`,
                        imageUrl: "https://i.imgur.com/8a6Q4oH.jpeg"
                    }
                }
            },
            case2: {
                title: "사례 2: 활동하기 편한 이미지",
                keywords: ["활동하기 편한 이미지", "티셔츠+바지", "스티치 장식", "비비드 컬러", "오가닉 면 소재", "스트라이프 문양"],
                ages: {
                    age3: {
                        prompt: "A full-body photograph of a joyful young girl, approximately 3 years old with an average height of around 95cm, wearing a soft and comfortable children's outfit. The ensemble features a relaxed-fit, short-sleeved t-shirt with bold, horizontal stripes in vivid primary colors like bright red and sunny yellow, made from a soft, breathable organic cotton jersey. It is casually paired with straight-leg, full-length pants in a solid, bright cobalt blue, crafted from a durable organic cotton twill. Subtle, contrasting top-stitching details are visible along the seams of both the t-shirt and pants, adding a playful touch. The model is captured in a lively, active pose, perhaps mid-jump or running, in a brightly lit outdoor park setting with blurred green foliage, emphasizing ease of movement and youthful energy. High resolution, professional fashion photography.",
                        derivation: `
                            <p><strong>'만 3세 여아' 반영:</strong> 평균 키(95cm)를 명시하여 AI가 해당 연령대에 맞는 체형과 비율을 고려하도록 하였습니다. 'joyful', 'lively, active pose, perhaps mid-jump or running' 등 3세 아이의 발랄하고 에너제틱한 모습을 강조하였으며, 배경으로 'outdoor park setting'을 추가하여 활동적인 분위기를 부각시켰습니다.</p>
                            <p><strong>'활동하기 편한 이미지' 반영:</strong> 'soft and comfortable', 'relaxed-fit', 'ease of movement', 'youthful energy' 등의 표현으로 최적의 활동성을 강조하였습니다。</p>
                            <p><strong>'티셔츠+바지' 반영:</strong> 'short-sleeved t-shirt'와 'straight-leg, full-length pants'로 기본적인 구성과 편안한 핏을 지정하였습니다.</p>
                            <p><strong>'스티치 장식' 반영:</strong> 'Subtle, contrasting top-stitching details are visible along the seams'로 눈에 띄면서도 부담스럽지 않은 스티치 장식을 추가하였습니다.</p>
                            <p><strong>'비비드 컬러' 반영:</strong> 'bold, horizontal stripes in vivid primary colors like bright red and sunny yellow' (티셔츠)와 'solid, bright cobalt blue' (바지)를 사용하여 강렬하고 생동감 있는 원색 조합을 만들었습니다.</p>
                            <p><strong>'오가닉 면 소재' 반영:</strong> 'soft, breathable organic cotton jersey' (티셔츠)와 'durable organic cotton twill' (바지)로 오가닉 면의 부드러움과 내구성을 구체화하였습니다.</p>
                            <p><strong>'스트라이프 문양' 반영:</strong> 'bold, horizontal stripes'로 스트라이프의 방향과 굵기를 지정하여 발랄한 느낌을 더하였습니다.</p>`,
                        imageUrl: "https://i.imgur.com/Y4jH2sW.jpeg"
                    },
                    age5: {
                        prompt: "A full-body fashion photograph of a vibrant and genuinely childlike young girl, approximately 5 years old with an average height of around 110cm. She has a round, innocent face and a joyful, natural smile, and is wearing a sporty and modern children's training set. The ensemble features a comfortable, slightly fitted t-shirt with thin, vertical stripes in vivid lime green and crisp white, made from a smooth, stretchy organic cotton blend. It is paired with athletic-style joggers in a solid, deep royal blue, crafted from a soft, yet structured organic cotton fleece. Prominent, contrasting flatlock stitching details are visible on the side seams of the joggers and shoulder seams of the t-shirt, adding a contemporary athletic aesthetic. The entire design is clean and vibrant. The model is captured in a playful, slightly curious pose, perhaps looking directly at the camera with wide eyes, against a brightly lit, minimalist indoor sports court background, emphasizing agility and modern style. High resolution, professional fashion photography.",
                        derivation: `
                            <p><strong>'만 5세 여아' 반영:</strong> 평균 키(110cm)를 명시하여 AI가 해당 연령대에 맞는 비율을 고려하도록 하였습니다. 'vibrant and genuinely childlike', 'round, innocent face and a joyful, natural smile', 'playful, slightly curious pose, perhaps looking directly at the camera with wide eyes'와 같은 표현을 사용하여 5세 아이의 순수하고 생기 넘치는 얼굴과 표정, 호기심 가득한 시선을 강조하였습니다. 배경으로 'minimalist indoor sports court background'를 선택하여 스포티한 느낌을 부각시켰습니다.</p>
                            <p><strong>'활동하기 편한 이미지' 반영:</strong> 'sporty and modern children\\'s training set', 'comfortable, slightly fitted', 'athletic-style joggers', 'agility and modern style' 등의 키워드를 사용하여 스포티함과 활동성을 강조하였습니다.</p>
                            <p><strong>'티셔츠+바지' 반영:</strong> 't-shirt'와 'joggers'를 통해 스포티한 상하의 구성을 명시하였습니다.</p>
                            <p><strong>'스티치 장식' 반영:</strong> 'Prominent, contrasting flatlock stitching details are visible on the side seams of the joggers and shoulder seams of the t-shirt'로 기능적이면서도 디자인적인 플랫락 스티치를 강조하여 모던한 스포티룩을 완성하였습니다.</p>
                            <p><strong>'비비드 컬러' 반영:</strong> 'vivid lime green and crisp white' (스트라이프)와 'solid, deep royal blue' (조거)를 사용하여 시원하고 선명한 비비드 컬러를 선택하여 트렌디함을 더하였습니다.</p>
                            <p><strong>'오가닉 면 소재' 반영:</strong> 'smooth, stretchy organic cotton blend' (티셔츠)와 'soft, yet structured organic cotton fleece' (조거)를 사용하여 오가닉 면의 기능성과 편안함을 강조하였습니다.</p>
                            <p><strong>'스트라이프 문양' 반영:</strong> 'thin, vertical stripes'로 스트라이프의 방향과 굵기를 변경하여 변화를 주어 모던한 느낌을 표현하였습니다。</p>`,
                        imageUrl: "https://i.imgur.com/2s3x2yG.jpeg"
                    }
                }
            },
            case3: {
                title: "사례 3: 단정한 이미지",
                keywords: ["단정한 이미지", "점퍼+원피스", "개더 장식", "무채색 컬러", "린넨 소재", "체크 문양"],
                ages: {
                    age3: {
                        prompt: "A full-body photograph of a sweet young girl, approximately 3 years old with an average height of around 95cm, wearing a neat and charming children's outfit. The ensemble consists of a lightweight, collarless bomber-style jacket in a soft light gray, made from a breathable linen blend. She wears a knee-length A-line dress underneath, featuring a subtle, small-scale gingham check pattern in off-white and very light beige, crafted from a delicate linen-cotton blend. The dress has gentle gathers at the waistline, creating a lovely fullness. Both garments are designed for comfort and ease of movement. The outfit is solid-colored apart from the check pattern, with no additional prints or embellishments. The model is captured in a calm, slightly curious pose, in a brightly lit, minimalist indoor setting with natural wood elements, emphasizing a gentle and tidy aesthetic. High resolution, professional fashion photography.",
                        derivation: `
                            <p><strong>'만 3세 여아' 반영:</strong> 평균 키(95cm)를 명시하여 AI가 해당 연령대에 맞는 체형과 비율을 고려하도록 하였습니다. 'sweet young girl', 'calm, slightly curious pose'와 같은 표현으로 3세 아이의 순수하고 차분한 느낌을 강조하였으며, 배경으로 'minimalist indoor setting with natural wood elements'를 선택하여 부드럽고 따뜻한 분위기를 연출했습니다.</p>
                            <p><strong>'단정한 이미지' 반영:</strong> 'neat and charming', 'A-line dress', 'lovely fullness' 등의 표현을 사용하여 단정하면서도 사랑스러운 이미지를 강조하였습니다.</p>
                            <p><strong>'점퍼+원피스' 반영:</strong> 아우터는 'lightweight, collarless bomber-style jacket'으로 간결하고 활동적인 점퍼 형태를 제시했으며, 원피스는 'knee-length A-line dress'로 단정한 실루엣을 명시했습니다.</p>
                            <p><strong>'개더 장식' 반영:</strong> 원피스에 'gentle gathers at the waistline'를 통해 과하지 않으면서도 부드러운 개더 장식을 추가했습니다。</p>
                            <p><strong>'무채색 컬러' 반영:</strong> 점퍼는 'soft light gray'를, 원피스는 'off-white and very light beige'의 체크 패턴을 사용하여 따뜻하고 부드러운 무채색 톤을 구현했습니다.</p>
                            <p><strong>'린넨 소재' 반영:</strong> 점퍼는 'breathable linen blend'로, 원피스는 'delicate linen-cotton blend'로 지정하여 린넨 특유의 시원하고 자연스러운 질감을 표현했습니다. 또한 'designed for comfort and ease of movement'로 착용감을 강조했습니다.</p>
                            <p><strong>'체크 문양' 반영:</strong> 원피스에 'subtle, small-scale gingham check pattern'을 사용하여 작고 섬세한 깅엄 체크 문양을 적용했습니다.</p>`,
                        imageUrl: "https://i.imgur.com/rN9y5iW.jpeg"
                    },
                    age5: {
                        prompt: "A full-body fashion photograph of a poised young girl, approximately 5 years old with an average height of around 110cm, wearing a sophisticated and neat children's outfit. The ensemble features a tailored, collarless short jacket in a classic charcoal gray, made from a structured linen-viscose blend. She wears a knee-length shift dress underneath, adorned with a refined, medium-scale houndstooth check pattern in black and off-white, crafted from a crisp, medium-weight linen fabric. The dress incorporates well-defined gathers at the shoulder seams, creating subtle volume. The entire outfit maintains a solid-colored appearance apart from the check pattern, with no additional prints or embellishments. The model is captured in an elegant, upright pose against a clean, modern cityscape backdrop with blurred skyscrapers, emphasizing a polished and urban aesthetic. High resolution, professional fashion photography.",
                        derivation: `
                            <p><strong>'만 5세 여아' 반영:</strong> 평균 키(110cm)를 명시하여 AI가 해당 연령대에 맞는 비율을 고려하도록 하였습니다. 'poised young girl', 'elegant, upright pose' 등의 표현을 사용하여 5세 아동의 좀 더 세련되고 단정한 이미지를 강조하였으며, 배경으로 'modern cityscape backdrop with blurred skyscrapers'를 선택하여 도회적이고 고급스러운 분위기를 연출했습니다.</p>
                            <p><strong>'단정한 이미지' 반영:</strong> 'sophisticated and neat', 'tailored', 'polished and urban aesthetic' 등의 표현을 사용하여 단정함에 세련된 느낌을 더했습니다.</p>
                            <p><strong>'점퍼+원피스' 반영:</strong> 아우터는 'tailored, collarless short jacket'으로 디자인하여 정돈되고 세련된 점퍼 형태를 제시했으며, 원피스는 'knee-length shift dress'로 간결하고 단정한 실루엣을 명시했습니다.</p>
                            <p><strong>'개더 장식' 반영:</strong> 원피스에 'well-defined gathers at the shoulder seams, creating subtle volume'을 통해 어깨 부분의 명확한 개더 장식으로 볼륨감과 디자인 포인트를 주었습니다.</p>
                            <p><strong>'무채색 컬러' 반영:</strong> 점퍼는 'classic charcoal gray'를, 원피스는 'black and off-white'의 체크 패턴을 사용하여 좀 더 선명하고 대비되는 무채색 톤을 구현했습니다.</p>
                            <p><strong>'린넨 소재' 반영:</strong> 점퍼는 'structured linen-viscose blend'로, 원피스는 'crisp, medium-weight linen fabric'으로 지정하여 린넨의 특징을 살리면서도 형태감이 유지되는 고급스러운 질감을 표현했습니다.</p>
                            <p><strong>'체크 문양' 반영:</strong> 원피스에 'refined, medium-scale houndstooth check pattern'을 사용하여 클래식하고 세련된 하운드투스 체크 문양을 적용했습니다.</p>`,
                        imageUrl: "https://i.imgur.com/y8Z9p9e.jpeg"
                    }
                }
            },
            case4: {
                title: "사례 4: 귀여운 이미지",
                keywords: ["귀여운 이미지", "원피스(라운지 웨어)", "리본 장식", "짙고 어두운 색", "텐셀 모달 소재", "동물 문양"],
                ages: {
                    age3: {
                        prompt: "A full-body photograph of an adorable young girl, approximately 3 years old with an average height of around 95cm, wearing a cozy and charming lounge dress. The comfortable, loose-fitting long-sleeved dress is rendered in a deep, muted mulberry color, crafted from an incredibly soft and flowing Tencel Modal jersey fabric. The dress features a sweet, small bow detail sewn onto each shoulder. A whimsical pattern of tiny, stylized forest animals (like foxes and bunnies) in a slightly lighter tonal shade is subtly repeated across the fabric. The entire design is simple and focuses on comfort for relaxed play. The model is captured in a heartwarming, gentle pose, perhaps sitting on a soft rug in a sunlit playroom, emphasizing comfort and childlike wonder. High resolution, professional fashion photography.",
                        derivation: `
                            <p><strong>'만 3세 여아' 반영:</strong> 평균 키(95cm)를 명시하여 AI가 해당 연령대에 맞는 체형과 비율을 고려하도록 하였습니다. 'adorable young girl', 'sweet, small bow', 'heartwarming, gentle pose', 'childlike wonder'와 같은 표현으로 3세 아이의 사랑스럽고 포근한 느낌을 강조하였으며, 배경으로 'sunlit playroom'을 선택하여 아이다운 편안하고 아늑한 분위기를 연출했습니다.</p>
                            <p><strong>'귀여운 이미지' 반영:</strong> 'cozy and charming', 'sweet, small bow', 'whimsical pattern', 'heartwarming, gentle pose' 등의 표현을 사용하여 전체적으로 귀엽고 사랑스러운 분위기를 구현했습니다.</p>
                            <p><strong>'원피스(라운지 웨어)' 반영:</strong> 'comfortable, loose-fitting long-sleeved dress'로 편안함과 활동성을 강조한 라운지 웨어 형태의 원피스를 지정했습니다.</p>
                            <p><strong>'리본 장식' 반영:</strong> 'sweet, small bow detail sewn onto each shoulder'를 통해 작고 귀여운 리본 장식을 어깨 부분에 추가했습니다.</p>
                            <p><strong>'짙고 어두운 색' 반영:</strong> 'deep, muted mulberry color'를 사용하여 너무 강렬하지 않으면서도 깊이감 있는 짙은 색상을 선택했습니다.</p>
                            <p><strong>'텐셀 모달 소재' 반영:</strong> 'incredibly soft and flowing Tencel Modal jersey fabric'으로 텐셀 모달 특유의 부드럽고 유연한 질감과 뛰어난 착용감을 표현했습니다.</p>
                            <p><strong>'동물 문양' 반영:</strong> 'whimsical pattern of tiny, stylized forest animals (like foxes and bunnies) in a slightly lighter tonal shade'를 사용하여 과하지 않으면서도 귀여운 느낌의 동물 문양을 적용했습니다.</p>`,
                        imageUrl: "https://i.imgur.com/3Z3x3Z3.jpeg"
                    },
                    age5: {
                        prompt: "A full-body fashion photograph of a charming young girl, approximately 5 years old with an average height of around 110cm, wearing a stylish and comfortable lounge dress. The relaxed-fit, knee-length dress is designed with a subtle A-line silhouette, rendered in a rich, deep forest green, crafted from a luxurious Tencel Modal blend fabric with an elegant drape. It features delicate gather detailing at the neckline, creating a soft voluminous effect. A sophisticated large ribbon tie is incorporated at the back of the neck, adding a graceful accent. The dress is adorned with a refined, artistic pattern of abstract animal silhouettes (e.g., leaping deer or soaring birds) in a subtle, contrasting dark teal. The entire design prioritizes comfort with a touch of modern elegance. The model is captured in a thoughtful, relaxed pose, perhaps reading a book in a cozy, tastefully decorated reading nook with warm, diffused lighting, emphasizing serene comfort and subtle charm. High resolution, professional fashion photography.",
                        derivation: `
                            <p><strong>'만 5세 여아' 반영:</strong> 평균 키(110cm)를 명시하여 AI가 해당 연령대에 맞는 체형과 비율을 고려하도록 하였습니다. 'charming young girl', 'stylish and comfortable', 'thoughtful, relaxed pose' 등의 표현을 통해 5세 아동의 좀 더 세련되고 차분한 분위기를 강조했으며, 배경으로 'cozy, tastefully decorated reading nook'를 선택하여 편안하면서도 아늑한 고급스러움을 연출했습니다.</p>
                            <p><strong>'귀여운 이미지' 반영:</strong> 'charming', 'delicate gather detailing', 'graceful accent', 'subtle charm' 등의 표현을 사용하여 귀여움 속에 세련됨과 우아함을 더했습니다.</p>
                            <p><strong>'원피스(라운지 웨어)' 반영:</strong> 'relaxed-fit, knee-length dress'와 'subtle A-line silhouette'로 편안하면서도 스타일리시한 라운지 웨어 형태의 원피스를 지정했습니다.</p>
                            <p><strong>'리본 장식' 반영:</strong> 'sophisticated large ribbon tie is incorporated at the back of the neck'를 통해 뒷목 부분에 세련되고 큰 리본 타이 디테일을 추가하여 포인트를 주었습니다.</p>
                            <p><strong>'짙고 어두운 색' 반영:</strong> 'rich, deep forest green'을 사용하여 깊이감 있고 고급스러운 짙은 색상을 선택했습니다.</p>
                            <p><strong>'텐셀 모달 소재' 반영:</strong> 'luxurious Tencel Modal blend fabric with an elegant drape'로 텐셀 모달의 부드러움과 우아한 드레이프성을 강조하여 고급스러운 느낌을 더했습니다.</p>
                            <p><strong>'동물 문양' 반영:</strong> 'refined, artistic pattern of abstract animal silhouettes (e.g., leaping deer or soaring birds) in a subtle, contrasting dark teal'을 사용하여 5세 아동에게 어울리는 세련되고 추상적인 동물 문양을 적용했습니다.</p>`,
                        imageUrl: "https://i.imgur.com/9s9s9s9.jpeg"
                    }
                }
            }
        };

        const mainContent = document.getElementById('main-content');
        const navButtons = document.querySelectorAll('.nav-btn');
        let currentCaseId = 'case1'; // 현재 선택된 케이스 ID 저장

        function renderContent(caseId) {
            const caseData = designData[caseId];
            if (!caseData) return;

            // 모든 카드 숨기기
            document.querySelectorAll('.content-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // 이미 렌더링된 카드가 있는지 확인
            let existingCard = document.getElementById(caseId);
            if(existingCard) {
                existingCard.classList.add('active');
                currentCaseId = caseId; // 현재 케이스 ID 업데이트
                return;
            }

            // 새 카드 생성
            const cardHtml = `
                <div id="${caseId}" class="content-card active bg-white p-6 md:p-8 rounded-xl shadow-lg border border-stone-200">
                    <div class="mb-8">
                        <h3 class="text-xl font-bold text-stone-800 mb-3">원본 키워드</h3>
                        <div class="flex flex-wrap gap-2">
                            ${caseData.keywords.map(keyword => `<span class="bg-teal-100 text-teal-800 text-sm font-medium px-3 py-1 rounded-full">${keyword}</span>`).join('')}
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-8">
                        ${Object.keys(caseData.ages).map(ageKey => {
                            const ageData = caseData.ages[ageKey];
                            const ageLabel = ageKey === 'age3' ? '만 3세' : '만 5세';
                            return `
                                <div class="border border-stone-200 rounded-lg overflow-hidden flex flex-col">
                                    <div class="p-4 bg-stone-100 border-b border-stone-200">
                                        <h4 class="text-lg font-bold text-stone-800">${ageLabel} 여아 디자인 시안</h4>
                                    </div>
                                    <img src="${ageData.imageUrl}" alt="${caseData.title} - ${ageLabel}" class="w-full h-auto object-cover aspect-[3/4]" onerror="this.onerror=null;this.src='https://placehold.co/600x800/e2e8f0/475569?text=${encodeURIComponent(ageLabel)}%0A%EC%9D%B4%EB%AF%B8%EC%A7%80';">
                                    <div class="p-4 flex-grow flex flex-col">
                                        <div class="mb-4">
                                            <h5 class="font-semibold mb-2 text-stone-700">선정된 프롬프트</h5>
                                            <p class="text-sm bg-stone-100 p-3 rounded-md text-stone-600 leading-relaxed">${ageData.prompt}</p>
                                        </div>
                                        <details class="mt-auto">
                                            <summary class="font-semibold text-stone-700 hover:text-teal-600">도출 과정 세부 설명</summary>
                                            <div class="text-sm mt-2 space-y-2 text-stone-600">${ageData.derivation}</div>
                                        </details>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;

            mainContent.insertAdjacentHTML('beforeend', cardHtml);
            currentCaseId = caseId; // 현재 케이스 ID 업데이트
        }

        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                const caseId = button.dataset.case;
                
                navButtons.forEach(btn => {
                    btn.classList.remove('bg-teal-500', 'text-white');
                    btn.classList.add('bg-white', 'text-stone-700');
                });
                
                button.classList.add('bg-teal-500', 'text-white');
                button.classList.remove('bg-white', 'text-stone-700');

                renderContent(caseId);
            });
        });

        // 프롬프트 확장기 기능
        const promptInput = document.getElementById('promptInput');
        const refinePromptBtn = document.getElementById('refinePromptBtn');
        const refinePromptText = document.getElementById('refinePromptText');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const refinedPromptOutput = document.getElementById('refinedPromptOutput');
        const outputPromptText = document.getElementById('outputPromptText');
        const errorOutput = document.getElementById('errorOutput');

        refinePromptBtn.addEventListener('click', async () => {
            const userInput = promptInput.value.trim();
            if (!userInput) {
                errorOutput.textContent = '아이디어를 입력해주세요.';
                errorOutput.classList.remove('hidden');
                refinedPromptOutput.classList.add('hidden');
                return;
            }

            errorOutput.classList.add('hidden');
            refinedPromptOutput.classList.add('hidden');
            refinePromptText.classList.add('hidden');
            loadingIndicator.classList.remove('hidden');
            refinePromptBtn.disabled = true;

            try {
                const currentKeywords = designData[currentCaseId].keywords.join(', ');
                let chatHistory = [];
                const prompt = `You are an expert in children's apparel design and AI prompt engineering. Given the following core design keywords for children's apparel: ${currentKeywords}. Please expand and refine the user's short input into a detailed, comprehensive prompt suitable for generating a realistic fashion image of a young girl's outfit. Focus on describing the silhouette, specific details (e.g., pleats, gathers, stitching, ribbons), color nuances, fabric texture and drape, and overall mood/setting. Ensure the output is a single, clear English sentence ready for an image generation AI. User input: '${userInput}'`;
                
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    outputPromptText.textContent = text;
                    refinedPromptOutput.classList.remove('hidden');
                } else {
                    errorOutput.textContent = '프롬프트 생성에 실패했습니다. 다시 시도해주세요.';
                    errorOutput.classList.remove('hidden');
                }

            } catch (error) {
                errorOutput.textContent = `오류 발생: ${error.message}. 네트워크 연결을 확인하거나 다시 시도해주세요.`;
                errorOutput.classList.remove('hidden');
                console.error('Gemini API call failed:', error);
            } finally {
                loadingIndicator.classList.add('hidden');
                refinePromptText.classList.remove('hidden');
                refinePromptBtn.disabled = false;
            }
        });

        // 초기 콘텐츠 로드
        document.querySelector('.nav-btn[data-case="case1"]').click();
    </script>
</body>
</html>
